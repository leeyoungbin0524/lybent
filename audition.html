<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Audition | LYB</title>
  <link rel="icon" type="image/png" href="/favicon.png?v=1">

  <link rel="stylesheet" as="style" crossorigin
    href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"/>
  <link rel="stylesheet" href="app.css">
</head>

<body>
  <div class="topbar">
    <div class="topbar-left">
      <button class="iconbtn" onclick="openDrawer()">☰</button>
      <a class="logo-link" href="index.html">
        <img id="logo-mobile" class="logo" src="LYB LOGO FULL DARK.png" alt="LYB Logo">
      </a>
      <span class="pill" id="clock-m">—</span>
      <span class="pill" id="authStatus">Auth: —</span>
    </div>
    <button class="iconbtn" onclick="toggleTheme()">Dark</button>
  </div>

  <div class="overlay" id="overlay" onclick="closeDrawer()"></div>
  <aside class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-head">
      <a class="logo-link" href="index.html" onclick="closeDrawer()">
        <div class="logo-box" style="width:150px;">
          <img id="logo-drawer" src="LYB LOGO FULL DARK.png" alt="LYB Logo">
        </div>
      </a>
      <button class="iconbtn" onclick="closeDrawer()">✕</button>
    </div>

    <!-- ✅ 드로어 메뉴에서 Login 제거 -->
    <nav class="drawer-nav">
      <a href="index.html" onclick="closeDrawer()">Home</a>
      <a href="artists.html" onclick="closeDrawer()">Artists</a>
      <a href="news.html" onclick="closeDrawer()">News</a>
      <a href="audition.html" onclick="closeDrawer()">Audition</a>
      <a href="goods.html" onclick="closeDrawer()">Goods</a>
    </nav>

    <div class="drawer-actions">
      <button class="btn" onclick="toggleTheme()">Dark Mode</button>
      <div class="note">Contact · info@lybent.store</div>
    </div>
  </aside>

  <div class="wrap">
    <aside class="side">
      <a class="logo-link" href="index.html">
        <div class="logo-box">
          <img id="logo-desktop" src="LYB LOGO FULL DARK.png" alt="LYB Logo">
        </div>
      </a>

      <!-- ✅ 왼쪽 nav에서 Login 제거 -->
      <div class="nav">
        <a href="index.html">Home</a>
        <a href="artists.html">Artists</a>
        <a href="news.html">News</a>
        <a class="active" href="audition.html">Audition</a>
        <a href="goods.html">Goods</a>
      </div>

      <div class="side-actions">
        <button class="btn" onclick="toggleTheme()">Dark Mode</button>
        <!-- 관리자만 보이게 될 버튼 (처음엔 숨김) -->
<a class="btn" id="adminBtn" href="admin.html"
   style="text-align:center;display:none;">Admin</a>
        <a class="btn" href="orders.html" style="text-align:center;display:block;">나의 주문내역</a>
        <!-- ✅ 원안 버튼은 이거 하나만: 로그인 전 Login / 로그인 후 이름 -->
        <a class="btn" id="accountBtn" href="login.html" style="text-align:center;display:block;">Login</a>
      </div>
    </aside>

    <main class="main">
      <div class="h-top">
        <div class="pill">Audition</div>
        <div class="pill" id="clock">—</div>
      </div>

      <h1 class="page-title">Audition</h1>
      <p class="page-sub">제출하면 Supabase DB에 실제 저장됩니다.</p>

      <form id="auditionForm" onsubmit="return false;"
        style="margin-top:18px;max-width:760px;border:1px solid var(--line);background:var(--panel);border-radius:18px;padding:18px;">

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px;">
            <div style="font-size:12px;letter-spacing:.16em;color:var(--muted);text-transform:uppercase;">Name</div>
            <input id="a_name" required placeholder="이름"
              style="border:1px solid var(--line);background:var(--bg);color:var(--text);padding:12px;border-radius:14px;outline:none;">
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px;">
            <div style="font-size:12px;letter-spacing:.16em;color:var(--muted);text-transform:uppercase;">Phone</div>
            <input id="a_phone" required placeholder="01012345678"
              style="border:1px solid var(--line);background:var(--bg);color:var(--text);padding:12px;border-radius:14px;outline:none;">
          </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px;">
            <div style="font-size:12px;letter-spacing:.16em;color:var(--muted);text-transform:uppercase;">Position</div>
            <select id="a_position"
              style="border:1px solid var(--line);background:var(--bg);color:var(--text);padding:12px;border-radius:14px;outline:none;">
              <option>보컬</option><option>댄스</option><option>연기</option><option>기타</option>
            </select>
          </div>
          <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px;">
            <div style="font-size:12px;letter-spacing:.16em;color:var(--muted);text-transform:uppercase;">Video Link</div>
            <input id="a_video" placeholder="YouTube/Drive 링크"
              style="border:1px solid var(--line);background:var(--bg);color:var(--text);padding:12px;border-radius:14px;outline:none;">
          </div>
        </div>

        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px;">
          <div style="font-size:12px;letter-spacing:.16em;color:var(--muted);text-transform:uppercase;">Message</div>
          <textarea id="a_message" placeholder="간단한 소개/각오"
            style="border:1px solid var(--line);background:var(--bg);color:var(--text);padding:12px;border-radius:14px;outline:none;min-height:130px;resize:vertical;"></textarea>
        </div>

        <button type="submit"
          style="width:100%;padding:14px 16px;border-radius:16px;border:1px solid var(--text);background:var(--text);color:var(--bg);cursor:pointer;font-weight:900;">
          지원서 제출
        </button>

        <div id="audMsg" style="margin-top:10px;color:var(--muted);font-size:13px;line-height:1.6;">
          ※ 제출하면 DB에 저장됩니다.
        </div>
      </form>
    </main>
  </div>

  <script src="app.js"></script>
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="supabase-client.js"></script>
  <script src="auth-status.js"></script>
  <script src="audition-submit.js"></script>
</body>

</html>

