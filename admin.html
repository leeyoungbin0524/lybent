<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin | LYBENTERTAINMENT</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="header">
  <div class="container header-inner">
    <a class="brand" href="index.html">
      <img src="LYB_logo.png" alt="LYB Logo" class="brand-logo" />
    </a>

    <nav class="nav" id="nav">
      <a href="index.html">HOME</a>
      <a href="artists.html">ARTISTS</a>
      <a href="audition.html">AUDITION</a>
      <a href="store.html">STORE <span class="chip" style="margin-left:6px;">CART <span id="cartCount">0</span></span></a>
      <a href="admin.html">ADMIN</a>
    </nav>

    <div id="authStatus" style="display:flex; gap:10px; align-items:center;"></div>
    <button class="menu-btn" id="menuBtn">☰</button>
  </div>
</header>

<main class="container">
  <div class="page-head">
    <div class="breadcrumb">
      <a href="index.html">HOME</a> <span class="muted">/</span> <span>ADMIN</span>
    </div>
    <h1 class="page-title">ADMIN</h1>
    <p class="page-desc">공지/아티스트/상품/회원 데이터를 관리합니다 (로컬 저장 기반 데모).</p>
  </div>

  <section class="section" style="padding-top:10px;">
    <div class="panel" style="display:flex; gap:10px; flex-wrap:wrap;">
      <button class="btn small" data-tab="posts">공지/뉴스</button>
      <button class="btn small" data-tab="artists">아티스트</button>
      <button class="btn small" data-tab="products">상품</button>
      <button class="btn small" data-tab="users">회원</button>
      <button class="btn small danger" data-tab="tools">도구</button>
    </div>

    <!-- POSTS -->
    <div class="grid two" id="tab-posts" style="margin-top:12px;">
      <form class="panel form" id="postForm">
        <div class="notice">공지/뉴스를 등록하면 이후 “NEWS 섹션”에 연결할 수 있어요.</div>

        <input type="hidden" name="id" />

        <label>타입
          <select name="type" required>
            <option value="NOTICE">NOTICE</option>
            <option value="RELEASE">RELEASE</option>
            <option value="EVENT">EVENT</option>
          </select>
        </label>

        <label>제목
          <input name="title" type="text" placeholder="예: 팬미팅 일정 안내" required />
        </label>

        <label>내용
          <textarea name="content" rows="5" placeholder="내용을 입력..." required></textarea>
        </label>

        <label style="display:flex; gap:10px; align-items:center; margin-top:6px;">
          <input type="checkbox" name="pinned" style="width:auto; margin:0;" />
          상단 고정
        </label>

        <label style="display:flex; gap:10px; align-items:center; margin-top:6px;">
          <input type="checkbox" name="visible" style="width:auto; margin:0;" checked />
          공개
        </label>

        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn primary" type="submit">저장</button>
          <button class="btn ghost" id="postCancel" type="button">취소</button>
        </div>
      </form>

      <div class="panel">
        <div class="section-head">
          <h2>게시글 목록</h2>
          <p class="muted">수정/삭제/공개 토글</p>
        </div>
        <div class="grid" id="postList" style="gap:12px;"></div>
      </div>
    </div>

    <!-- ARTISTS -->
    <div class="grid two" id="tab-artists" style="margin-top:12px; display:none;">
      <form class="panel form" id="artistForm">
        <input type="hidden" name="id" />
        <label>이름 <input name="name" required /></label>
        <label>역할/분야 <input name="role" placeholder="Vocal • Ballad" required /></label>
        <label>데뷔 <input name="debut" placeholder="2026 (Project)" required /></label>
        <label>Instagram <input name="instagram" placeholder="@lyb_artist" /></label>
        <label>YouTube <input name="youtube" placeholder="LYB Artist" /></label>
        <label>태그(콤마로 구분) <input name="tags" placeholder="Vocal, Ballad, Live" /></label>
        <label>소개 <textarea name="bio" rows="4"></textarea></label>
        <label>아티스트 이미지(파일 선택)
            <input type="file" id="artistImgFile" accept="image/*" />
        </label>
        <img id="artistImgPreview" alt="preview" style="display:none; width:100%; max-height:220px; object-fit:cover; border-radius:12px; margin-top:8px;" />
        <input type="hidden" name="img" />
        <p class="muted small" style="margin:6px 0 0;">
  * 선택한 이미지는 로컬 저장소에 저장됩니다(데모). 너무 큰 파일은 저장이 안 될 수 있어요.
</p>

        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn primary" type="submit">저장</button>
          <button class="btn ghost" id="artistCancel" type="button">취소</button>
        </div>
      </form>

      <div class="panel">
        <div class="section-head">
          <h2>아티스트 목록</h2>
          <p class="muted">수정/삭제</p>
        </div>
        <div class="grid" id="artistList" style="gap:12px;"></div>
      </div>
    </div>

    <!-- PRODUCTS -->
    <div class="grid two" id="tab-products" style="margin-top:12px; display:none;">
      <form class="panel form" id="productForm">
        <input type="hidden" name="id" />
        <label>상품명 <input name="name" required /></label>
        <label>태그 <input name="tag" placeholder="Goods" /></label>
        <label>가격(숫자) <input name="price" type="number" min="0" required /></label>
        <label>이미지 경로 <input name="img" placeholder="assets/hoodie.jpg" /></label>

        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn primary" type="submit">저장</button>
          <button class="btn ghost" id="productCancel" type="button">취소</button>
        </div>
      </form>

      <div class="panel">
        <div class="section-head">
          <h2>상품 목록</h2>
          <p class="muted">수정/삭제</p>
        </div>
        <div class="grid" id="productList" style="gap:12px;"></div>
      </div>
    </div>

    <!-- USERS -->
    <div class="panel" id="tab-users" style="margin-top:12px; display:none;">
      <div class="section-head">
        <h2>회원 목록</h2>
        <p class="muted">로컬 저장된 users를 보여줍니다.</p>
      </div>
      <div id="userList"></div>
    </div>

    <!-- TOOLS -->
    <div class="panel" id="tab-tools" style="margin-top:12px; display:none;">
      <div class="section-head">
        <h2>도구</h2>
        <p class="muted">데이터 내보내기/초기화</p>
      </div>

      <div class="grid two">
        <div class="card">
          <h3 style="margin-top:0;">데이터 내보내기(JSON)</h3>
          <p class="muted">아티스트/상품/게시글을 JSON으로 다운로드합니다.</p>
          <button class="btn primary" id="exportData" type="button">내보내기</button>
        </div>

        <div class="card">
          <h3 style="margin-top:0;">초기화</h3>
          <p class="muted">아티스트/상품/게시글을 초기 상태로 되돌립니다.</p>
          <button class="btn danger" id="resetData" type="button">초기화</button>
        </div>
      </div>
    </div>

  </section>
</main>

<script src="app.js"></script>
<script src="auth.js"></script>
<script src="admin.js"></script>
</body>
</html>
